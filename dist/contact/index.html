<!DOCTYPE html><html lang="en" class="scroll-smooth" data-astro-cid-37fxchfa> <head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Puzzles Studios - Contact</title><meta name="description" content="Hello there, I'm Mamzi Osouli – an intrepid explorer through the lens, on a relentless quest to capture the world's boundless wonders."><!-- Favicon --><link rel="icon" type="image/x-icon" href="/assets/favicon.ico"><!-- Early dark-mode apply to avoid flash of light --><script>
    (function(){
      try {
        var t = localStorage.getItem('theme') || 'dark';
        if (t === 'dark') document.documentElement.classList.add('dark');
      } catch (e) {
        document.documentElement.classList.add('dark');
      }
    })();
  </script><!-- Alpine.js --><script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script><!-- Start - Fonts --><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Signika:wght@400;700&display=swap" rel="stylesheet"><!-- End - Fonts --><!-- Start - Fancybox Scripts --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css"><script type="module">
    // Load Fancybox as an ESM module from CDN and expose it globally
    import { Fancybox } from 'https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.esm.js';
    window.Fancybox = Fancybox;
  </script><!-- End - Fancybox Scripts --><!-- Custom Fancybox Styling --><link rel="stylesheet" href="/_astro/about.BBcyLDlk.css">
<style>.fancybox__backdrop[data-astro-cid-37fxchfa]{background:#000000e6}.fancybox__toolbar[data-astro-cid-37fxchfa]{background:#000c;backdrop-filter:blur(10px)}.fancybox__button[data-astro-cid-37fxchfa]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:#fff}.fancybox__button[data-astro-cid-37fxchfa]:hover{background:#fff3}.fancybox__caption[data-astro-cid-37fxchfa]{background:#000c;color:#fff;font-family:Signika,sans-serif}@keyframes fancybox-zoomInUp{0%{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,1000px,0)}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0)}to{opacity:1;transform:scaleZ(1) translateZ(0)}}@keyframes fancybox-zoomOutDown{40%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0)}to{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,1000px,0)}}.fancybox-zoomInUp[data-astro-cid-37fxchfa]{animation:fancybox-zoomInUp .6s ease-out}.fancybox-zoomOutDown[data-astro-cid-37fxchfa]{animation:fancybox-zoomOutDown .6s ease-in}
</style></head> <body class="bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-900 dark:text-gray-100 px-5 md:px-20 transition-colors duration-300" data-astro-cid-37fxchfa> <!-- Navbar --> <header class="flex w-full overflow-hidden pt-10 pb-1" data-astro-cid-37fxchfa> <nav id="nav" x-data="{ open: false }" role="navigation" class="w-full" data-astro-cid-37fxchfa> <div class="container mx-auto flex flex-wrap items-center md:flex-no-wrap" data-astro-cid-37fxchfa> <div class="mr-4 md:mr-8" data-astro-cid-37fxchfa> <a href="/" class="text-2xl font-signika font-bold" data-astro-cid-37fxchfa>PUZZLES STUDIOS</a> </div> <div class="ml-auto md:hidden flex items-center justify-start" data-astro-cid-37fxchfa> <button onclick="menuToggle()" @click="open = !open" class="tap-highlight-transparent text-black dark:text-white w-5 h-5 relative focus:outline-none" data-astro-cid-37fxchfa> <span class="sr-only" data-astro-cid-37fxchfa>Open main menu</span> <div class="block w-5 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2" data-astro-cid-37fxchfa> <span aria-hidden="true" class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out" :class="{'rotate-45': open,' -translate-y-1.5': !open }" data-astro-cid-37fxchfa></span> <span aria-hidden="true" class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out" :class="{'opacity-0': open }" data-astro-cid-37fxchfa></span> <span aria-hidden="true" class="block absolute h-0.5 w-5 bg-current transform transition duration-500 ease-in-out" :class="{'-rotate-45': open, ' translate-y-1.5': !open}" data-astro-cid-37fxchfa></span> </div> </button> </div> <div id="menu" class="w-full h-0 transition-all ease-out duration-500 md:transition-none md:w-auto md:flex-grow md:flex md:items-center" data-astro-cid-37fxchfa> <ul id="ulMenu" class="flex flex-col duration-300 ease-out md:space-x-5 sm:transition-none mt-5 md:flex-row md:items-center md:ml-auto md:mt-0 md:pt-0 md:border-0" data-astro-cid-37fxchfa> <li class="group transition duration-300" data-astro-cid-37fxchfa> <a href="/" class="font-signika text-2xl tap-highlight-transparent" data-astro-cid-37fxchfa>PORTFOLIO
<span class="hidden md:block h-0.5 bg-black dark:bg-white" data-astro-cid-37fxchfa></span> </a> </li> <li class="group transition duration-300" data-astro-cid-37fxchfa> <a href="/about" class="font-signika text-2xl tap-highlight-transparent" data-astro-cid-37fxchfa>ABOUT ME
<span class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white" data-astro-cid-37fxchfa></span> </a> </li> <li class="group transition duration-300" data-astro-cid-37fxchfa> <a href="/contact" class="font-signika text-2xl tap-highlight-transparent" data-astro-cid-37fxchfa>CONTACT
<span class="hidden md:block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-black dark:bg-white" data-astro-cid-37fxchfa></span> </a> </li> <!-- Dark Mode Toggle --> <li class="mt-4 md:mt-0 md:ml-4" data-astro-cid-37fxchfa> <button id="theme-toggle" class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300" aria-label="Toggle dark mode" data-astro-cid-37fxchfa> <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-astro-cid-37fxchfa> <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" data-astro-cid-37fxchfa></path> </svg> <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-astro-cid-37fxchfa> <path d="M10 2L13.09 8.26L20 9L14 14.74L15.18 21.02L10 17.77L4.82 21.02L6 14.74L0 9L6.91 8.26L10 2Z" data-astro-cid-37fxchfa></path> </svg> </button> </li> </ul> </div> </div> </nav> </header> <!-- Main Content --> <main data-astro-cid-37fxchfa>  <div class="container mx-auto"> <div class="grid grid-cols-2 gap-16"> <section class="col-span-2 md:col-span-1"> <div class="max-w-screen-md"> <h1 class="text-4xl pt-10 pb-8 font-bold">CONTACT</h1> <form class="space-y-8" action="mailto:info@example.com" method="post" enctype="text/plain"> <div> <label for="email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Your email</label> <input type="email" id="email" name="email" class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-neutral-900 dark:border-neutral-800 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light" placeholder="example@gmail.com" required> </div> <div> <label for="subject" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Subject</label> <input type="text" id="subject" name="subject" class="block p-3 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 shadow-sm focus:ring-primary-500 focus:border-primary-500 dark:bg-neutral-900 dark:border-neutral-800 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500 dark:shadow-sm-light" placeholder="Let me know how I can help you" required> </div> <div class="sm:col-span-2"> <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400">Your message</label> <textarea id="message" rows="6" name="message" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg shadow-sm border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-neutral-900 dark:border-neutral-800 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Leave a message..."></textarea> </div> <button type="submit" class="py-3 px-5 text-sm font-medium text-center text-white rounded-lg bg-black hover:bg-gray-800 focus:ring-4 focus:outline-none focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 transition duration-300">
Send message
</button> </form> </div> </section> <section class="col-span-2 md:col-span-1 my-auto"> <div class="grid grid-cols-1 gap-8 text-center mx-auto"> <div> <p class="font-signika font-bold text-2xl">PUZZLES STUDIOS</p> <p class="mt-4 text-sm text-gray-600 dark:text-gray-300">
Calgary, AB<br>
(403) 796-4691<br>
info@puzzlesstudios.com
</p> </div> <div class="mx-auto space-x-6 flex mt-8 text-gray-600 dark:text-gray-300"> <a class="transition duration-300 hover:opacity-75" href="https://www.instagram.com" target="_blank" rel="noreferrer"> <span class="sr-only">Instagram</span> <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true"> <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"></path> </svg> </a> <a class="transition duration-300 hover:opacity-75" href="https://www.linkedin.com" target="_blank" rel="noreferrer"> <span class="sr-only">LinkedIn</span> <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true"> <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"></path> </svg> </a> </div> </div> </section> </div> </div>  </main> <!-- Footer --> <footer class="bg-gray-100 dark:bg-gray-900 mt-20" data-astro-cid-37fxchfa> <div class="mx-auto max-w-5xl px-4 py-16 sm:px-6 lg:px-8" data-astro-cid-37fxchfa> <div class="flex justify-center text-black dark:text-white" data-astro-cid-37fxchfa> <div data-astro-cid-37fxchfa>PUZZLES STUDIOS</div> </div> <p class="mx-auto mt-6 max-w-md text-center leading-relaxed text-gray-600 dark:text-gray-300" data-astro-cid-37fxchfa>
Capturing the world's boundless wonders through my lens.
</p> <ul class="mt-12 flex flex-wrap justify-center gap-6 md:gap-8 lg:gap-12" data-astro-cid-37fxchfa> <li data-astro-cid-37fxchfa> <a class="transition duration-300 hover:opacity-75" href="/about" data-astro-cid-37fxchfa>About</a> </li> <li data-astro-cid-37fxchfa> <a class="transition duration-300 hover:opacity-75" href="/contact" data-astro-cid-37fxchfa>Contact</a> </li> <li data-astro-cid-37fxchfa> <a class="transition duration-300 hover:opacity-75" href="/" data-astro-cid-37fxchfa>Portfolio</a> </li> </ul> <ul class="mt-12 flex justify-center gap-6 md:gap-8" data-astro-cid-37fxchfa> <li data-astro-cid-37fxchfa> <a class="transition duration-300 hover:opacity-75" href="https://www.instagram.com/puzzles_studios" target="_blank" rel="noreferrer" data-astro-cid-37fxchfa> <span class="sr-only" data-astro-cid-37fxchfa>Instagram</span> <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 16 16" aria-hidden="true" data-astro-cid-37fxchfa> <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z" data-astro-cid-37fxchfa></path> </svg> </a> </li> </ul> </div> </footer> <!-- Script for the LightBox --> <script>
    // Debug logging to understand what's happening
    console.log('🔍 Script loading... Document state:', document.readyState);
    
    // Simple and reliable Fancybox initialization
    function initFancybox() {
      console.log('🔄 Trying to initialize Fancybox...');
      console.log('📦 Fancybox type:', typeof Fancybox);
      
      if (typeof Fancybox !== 'undefined') {
        if (window.__fancyboxInitialized) {
          console.log('♻️ Fancybox already initialized; skipping re-bind');
          return true;
        }
        // Find all elements with data-fancybox
        const elements = document.querySelectorAll('[data-fancybox]');
        console.log('🖼️ Found', elements.length, 'elements with data-fancybox');
        
        // Bind Fancybox to elements
        Fancybox.bind("[data-fancybox]", {
          Toolbar: {
            display: {
              left: ["infobar"],
              middle: ["zoomIn", "zoomOut", "toggle1to1", "rotateCCW", "rotateCW"],
              right: ["slideshow", "thumbs", "download", "close"],
            },
          },
          Images: {
            zoom: true,
          },
          Thumbs: {
            autoStart: false,
          },
        });
        console.log('✅ Fancybox initialized successfully!');
  window.__fancyboxInitialized = true;
        return true;
      } else {
        console.log('⏳ Fancybox not ready, retrying in 200ms...');
        setTimeout(initFancybox, 200);
        return false;
      }
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      console.log('⏰ Waiting for DOM to load...');
      document.addEventListener('DOMContentLoaded', initFancybox);
    } else {
      console.log('⚡ DOM already loaded, initializing immediately...');
      initFancybox();
    }
    
    // Also try after window load as backup
    window.addEventListener('load', function() {
      console.log('🔄 Window loaded, trying backup initialization...');
      setTimeout(initFancybox, 100);
    });

    // Universal click handler with simple fallback lightbox
    (function () {
  if (window.__universalLightboxBound) return;
      window.__universalLightboxBound = true;

      function buildGroup(link) {
        var group = link.getAttribute('data-fancybox');
        var groupEls = [];
        if (group) {
          var selector = 'a[data-fancybox="' + (window.CSS && CSS.escape ? CSS.escape(group) : group) + '"]';
          groupEls = Array.prototype.slice.call(document.querySelectorAll(selector));
        } else {
          groupEls = [link];
        }
        var items = groupEls.map(function (el) {
          return {
            src: el.getAttribute('href') || '',
            caption: el.getAttribute('data-caption') || '',
          };
        });
        return { items: items, groupEls: groupEls };
      }

      // Simple Lightbox Fallback
      function ensureFallbackUi() {
        var overlay = document.getElementById('simple-lightbox-overlay');
        if (overlay) return overlay;
        overlay = document.createElement('div');
        overlay.id = 'simple-lightbox-overlay';
        overlay.setAttribute('style', [
          'position:fixed',
          'inset:0',
          'z-index:9999',
          'background:rgba(0,0,0,0.92)',
          'display:none',
          'align-items:center',
          'justify-content:center',
        ].join(';'));

        var img = document.createElement('img');
        img.id = 'slb-image';
        img.setAttribute('style', 'max-width:90vw;max-height:85vh;border-radius:8px;box-shadow:0 10px 40px rgba(0,0,0,0.5)');

        var caption = document.createElement('div');
        caption.id = 'slb-caption';
        caption.setAttribute('style', 'position:absolute;bottom:20px;left:20px;right:20px;color:#fff;text-align:center;font-family:Signika,system-ui,sans-serif');

        var btnClose = document.createElement('button');
        btnClose.innerHTML = '&times;';
        btnClose.setAttribute('aria-label', 'Close');
        btnClose.setAttribute('style', 'position:absolute;top:10px;right:16px;font-size:32px;color:#fff;background:transparent;border:none;cursor:pointer');

        var btnPrev = document.createElement('button');
        btnPrev.textContent = '‹';
        btnPrev.setAttribute('aria-label', 'Previous');
        btnPrev.setAttribute('style', 'position:absolute;left:12px;top:50%;transform:translateY(-50%);font-size:42px;color:#fff;background:transparent;border:none;cursor:pointer');

        var btnNext = document.createElement('button');
        btnNext.textContent = '›';
        btnNext.setAttribute('aria-label', 'Next');
        btnNext.setAttribute('style', 'position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:42px;color:#fff;background:transparent;border:none;cursor:pointer');

        overlay.appendChild(img);
        overlay.appendChild(caption);
        overlay.appendChild(btnClose);
        overlay.appendChild(btnPrev);
        overlay.appendChild(btnNext);
        document.body.appendChild(overlay);
        return overlay;
      }

      var state = { items: [], index: 0 };
      function openFallback(items, startIndex) {
        var overlay = ensureFallbackUi();
        state.items = items;
        state.index = startIndex || 0;
        function render() {
          var img = document.getElementById('slb-image');
          var caption = document.getElementById('slb-caption');
          var it = state.items[state.index] || { src: '', caption: '' };
          img.setAttribute('src', it.src);
          caption.textContent = it.caption || '';
        }
        render();
        overlay.style.display = 'flex';

        function close() {
          overlay.style.display = 'none';
          document.removeEventListener('keydown', onKey);
        }
        function prev() {
          state.index = (state.index - 1 + state.items.length) % state.items.length;
          render();
        }
        function next() {
          state.index = (state.index + 1) % state.items.length;
          render();
        }
        function onKey(e) {
          if (e.key === 'Escape') return close();
          if (e.key === 'ArrowLeft') return prev();
          if (e.key === 'ArrowRight') return next();
        }

        overlay.onclick = function (e) {
          if (e.target && e.target.id === 'simple-lightbox-overlay') close();
        };
        overlay.querySelector('button[aria-label="Close"]').onclick = close;
        overlay.querySelector('button[aria-label="Previous"]').onclick = prev;
        overlay.querySelector('button[aria-label="Next"]').onclick = next;
        document.addEventListener('keydown', onKey);
      }

      document.addEventListener(
        'click',
        function (event) {
          var target = event.target;
          var link = target && typeof target.closest === 'function' ? target.closest('a[data-fancybox]') : null;
          if (!link) return;
          // If Fancybox exists (and is bound), do nothing here and let it handle the click.
          if (window.Fancybox && typeof window.Fancybox.show === 'function') {
            return;
          }

          // Otherwise, prevent navigation and open the simple fallback lightbox
          event.preventDefault();
          var groupData = buildGroup(link);
          var startIndex = Math.max(0, groupData.groupEls.indexOf(link));
          console.log('🧲 Fancybox missing; opening simple fallback lightbox');
          openFallback(groupData.items, startIndex);
        },
        true
      );
    })();
  </script> <!-- Dark Mode Toggle Script --> <script>
    // Dark mode functionality
    const themeToggle = document.getElementById('theme-toggle');
    const darkIcon = document.getElementById('theme-toggle-dark-icon');
    const lightIcon = document.getElementById('theme-toggle-light-icon');

    // Check for saved theme preference or default to light mode
  const currentTheme = localStorage.getItem('theme') || 'dark';
    
    function updateTheme(theme) {
      if (theme === 'dark') {
        document.documentElement.classList.add('dark');
        darkIcon.classList.add('hidden');
        lightIcon.classList.remove('hidden');
        localStorage.setItem('theme', 'dark');
      } else {
        document.documentElement.classList.remove('dark');
        lightIcon.classList.add('hidden');
        darkIcon.classList.remove('hidden');
        localStorage.setItem('theme', 'light');
      }
    }

    // Set initial theme
    updateTheme(currentTheme);

    // Toggle theme on button click
    themeToggle.addEventListener('click', () => {
      const isDark = document.documentElement.classList.contains('dark');
      updateTheme(isDark ? 'light' : 'dark');
    });
  </script> <!-- Removed legacy public JS includes (fade_in.js, menu.js) --> </body></html>